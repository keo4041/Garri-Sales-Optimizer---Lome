<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Optimiseur de Vente de Garri - LomÃ©</title>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #FBFBFB;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container { max-width: 1100px; }
Â  Â  Â  Â  .primary-btn {
Â  Â  Â  Â  Â  Â  background-color: #8C6A5D;
Â  Â  Â  Â  Â  Â  color: #FFFFFF;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .primary-btn:hover { background-color: #73564B; }
Â  Â  Â  Â  .stat-card {
Â  Â  Â  Â  Â  Â  background-color: #FFFFFF;
Â  Â  Â  Â  Â  Â  border: 1px solid #EFEAE6;
Â  Â  Â  Â  }
Â  Â  Â  Â  .chart-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 700px;
Â  Â  Â  Â  Â  Â  margin-left: auto;
Â  Â  Â  Â  Â  Â  margin-right: auto;
Â  Â  Â  Â  Â  Â  height: 350px;
Â  Â  Â  Â  Â  Â  max-height: 40vh;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-link {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  padding-bottom: 8px;
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-link::after {
Â  Â  Â  Â  Â  Â  content: '';
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 0;
Â  Â  Â  Â  Â  Â  height: 3px;
Â  Â  Â  Â  Â  Â  background-color: #8C6A5D;
Â  Â  Â  Â  Â  Â  transition: width 0.3s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .nav-link:hover::after, .nav-link.active::after {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="antialiased">

Â  Â  <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200/50">
Â  Â  Â  Â  <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center h-16">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex-shrink-0 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl font-bold text-[#73564B]">ğŸŒ¾ Optimiseur Garri</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#dashboard" class="nav-link active">Accueil</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#financials" class="nav-link">Finances</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#strategy" class="nav-link">StratÃ©gie</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#market" class="nav-link">MarchÃ©</a>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </nav>
Â  Â  </header>

Â  Â  <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <section id="dashboard" class="mb-16">
Â  Â  Â  Â  Â  Â  <h1 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#73564B]">Tableau de Bord OpÃ©rationnel</h1>
Â  Â  Â  Â  Â  Â  <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-10">Un plan interactif pour maximiser le profit de la vente de garri Ã  LomÃ©. Ce tableau de bord offre une vue d'ensemble de votre projet, avec des mÃ©triques clÃ©s et un calculateur de profit dynamique.</p>

Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card p-6 rounded-xl shadow-sm text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-medium text-gray-500 uppercase">Investissement Initial Total</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="mt-1 text-3xl font-semibold text-[#8C6A5D]" id="totalInvestmentDisplay">1 519 000 CFA</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card p-6 rounded-xl shadow-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="inventoryInput" class="block text-sm font-medium text-gray-500 uppercase text-center">Inventaire Total (Sacs)</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="inventoryInput" value="178" class="mt-1 text-3xl font-semibold text-[#8C6A5D] w-full text-center bg-transparent border-none focus:ring-0 p-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-500 text-center">(50kg par sac)</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card p-6 rounded-xl shadow-sm text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-medium text-gray-500 uppercase">FenÃªtre de Vente ProjetÃ©e</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="mt-1 text-3xl font-semibold text-[#8C6A5D]">Janv - Mars 2026</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200/80">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-center items-center mb-2 relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <h2 class="text-2xl font-bold text-center text-[#73564B]">Calculateur de Profit Interactif</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="resetButton" class="absolute right-0 top-0 primary-btn text-xs font-bold py-1 px-3 rounded-full flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3L22 2.5M22 12.5a10 10 0 0 1-18.8 4.3L2 21.5"/></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  RÃ©initialiser
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-center text-gray-600 mb-6">Ajustez le prix de vente, l'inventaire ou les coÃ»ts pour voir instantanÃ©ment vos revenus et profits potentiels.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="sellingPrice" class="block text-sm font-medium text-gray-700">Prix de Vente Moyen par Sac de 50kg (CFA)</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="range" id="sellingPrice" min="12000" max="25000" value="16500" step="100" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" style="accent-color: #8C6A5D;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-center text-2xl font-bold text-[#8C6A5D]" id="sellingPriceValue">16 500 CFA</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4 text-center md:text-left">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-3 gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-4 bg-gray-50 rounded-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-sm font-medium text-gray-500 uppercase">Revenu ProjetÃ©</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-2xl font-semibold text-[#73564B]" id="projectedRevenue">2 937 000</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-4 bg-gray-50 rounded-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-sm font-medium text-gray-500 uppercase">BÃ©nÃ©fice Brut</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-2xl font-semibold text-green-700" id="grossProfit">1 418 000</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-4 bg-gray-50 rounded-lg">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-sm font-medium text-gray-500 uppercase">Marge BÃ©nÃ©ficiaire</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-2xl font-semibold text-green-700" id="profitMargin">93,35%</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  Â  Â  Â  Â  <section id="financials" class="mb-16 pt-16">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#73564B]">DÃ©tail des Finances</h2>
Â  Â  Â  Â  Â  Â  <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-10">Un aperÃ§u dÃ©taillÃ© de vos coÃ»ts projetÃ©s. Comprendre ces chiffres est la premiÃ¨re Ã©tape vers une entreprise rentable.</p>
Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold mb-4 text-[#73564B]">Structure des CoÃ»ts</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul class="space-y-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-3 bg-white rounded-lg border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="costPerBagInput" class="font-medium text-gray-700">CoÃ»t par Sac</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="costPerBagInput" class="font-semibold text-gray-900 text-right border-none bg-transparent focus:ring-0 w-36" value="8000">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-3 bg-white rounded-lg border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-medium text-gray-700">CoÃ»t d'Achat du Garri</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span id="purchaseCostDisplay" class="font-semibold text-gray-900 text-right w-36 pr-3">1 424 000</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-3 bg-white rounded-lg border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="transportCostInput" class="font-medium text-gray-700">Transport vers LomÃ©</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="transportCostInput" class="font-semibold text-gray-900 text-right border-none bg-transparent focus:ring-0 w-36" value="75000">
S Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-3 bg-white rounded-lg border">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="storageCostInput" class="font-medium text-gray-700">Stockage & Manutention</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="storageCostInput" class="font-semibold text-gray-900 text-right border-none bg-transparent focus:ring-0 w-36" value="20000">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li class="flex justify-between items-center p-4 bg-gray-100 rounded-lg border border-gray-300 mt-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-bold text-gray-800">CoÃ»t Total EstimÃ©</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-bold text-lg text-[#8C6A5D]" id="totalCostDisplay">1 519 000 CFA</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="chart-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <canvas id="costBreakdownChart"></canvas>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  Â  Â  Â  Â  <section id="strategy" class="mb-16 pt-16">
Â  Â  Â  Â  Â  Â  <div class="flex flex-col items-center mb-10">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#73564B]">StratÃ©gie de Vente Optimale</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-6">Cette stratÃ©gie vise Ã  maximiser les revenus en programmant les ventes en fonction des augmentations de prix prÃ©vues. Utilisez le bouton ci-dessous pour gÃ©nÃ©rer une stratÃ©gie personnalisÃ©e.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="generateStrategyBtn" class="primary-btn font-semibold py-2 px-6 rounded-lg flex items-center justify-center space-x-2 transition-transform transform hover:scale-105">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-lg">âœ¨</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>GÃ©nÃ©rer une StratÃ©gie IA</span>
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200/80 transform hover:-translate-y-2 transition-transform duration-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-3xl mb-4">ğŸ—“ï¸</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold mb-2 text-[#8C6A5D]">Phase 1 : Janvier</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-semibold text-lg mb-2" id="phase1Title">Vendre 30% du Stock</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-600" id="phase1Bags">(~53 sacs)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500 mt-4" id="phase1Text">Entrez sur le marchÃ© alors que la demande post-vacances se stabilise. Cette vente initiale fournit des liquiditÃ©s prÃ©coces.</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200/80 transform hover:-translate-y-2 transition-transform duration-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-3xl mb-4">ğŸ“ˆ</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold mb-2 text-[#8C6A5D]">Phase 2 : FÃ©vrier</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-semibold text-lg mb-2" id="phase2Title">Vendre 40% du Stock</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-600" id="phase2Bags">(~71 sacs)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500 mt-4" id="phase2Text">Profitez de la hausse des prix alors que l'offre de la rÃ©colte principale diminue. PÃ©riode de demande de pointe projetÃ©e.</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200/80 transform hover:-translate-y-2 transition-transform duration-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-3xl mb-4">ğŸ’°</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold mb-2 text-[#8C6A5D]">Phase 3 : Mars</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-semibold text-lg mb-2" id="phase3Title">Vendre les 30% Finaux</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-600" id="phase3Bags">(~54 sacs)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500 mt-4" id="phase3Text">Vendez le stock restant aux prix projetÃ©s les plus Ã©levÃ©s avant le dÃ©but de la nouvelle saison des semailles.</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  Â  Â  Â  _ <section id="market" class="pt-16">
Â  Â  Â  Â  Â  Â  <div class="flex flex-col items-center mb-10">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[#73564B]">Analyse du MarchÃ© du Garri Ã  LomÃ©</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-6">Les donnÃ©es historiques montrent un schÃ©ma cyclique. Pour les informations les plus rÃ©centes, utilisez le bouton ci-dessous pour obtenir des informations sur le marchÃ© en temps rÃ©el.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="getInsightsBtn" class="primary-btn font-semibold py-2 px-6 rounded-lg flex items-center justify-center space-x-2 transition-transform transform hover:scale-105">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-lg">âœ¨</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Obtenir les DerniÃ¨res Infos MarchÃ©</span>
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200/80">
Â  Â  Â  _ Â  Â  Â  Â  Â  <h3 class="text-xl font-bold text-center mb-4 text-[#73564B]">Prix Historiques & ProjetÃ©s (par sac de 50kg)</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="chart-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <canvas id="marketPriceChart"></canvas>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="marketInsightsWrapper" class="mt-8 pt-6 border-t border-gray-200 hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-2xl font-bold text-center mb-4 text-[#73564B]">âœ¨ AperÃ§us du MarchÃ© par IA</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="marketInsights" class="prose prose-sm max-w-none text-gray-700 bg-gray-50 p-4 rounded-lg"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>
Â  Â  </main>

Â  Â  <footer class="bg-white mt-16 border-t">
Â  Â  Â  Â  <div class="container mx-auto py-6 px-4 text-center text-gray-500 text-sm">
Â  Â  Â  Â  Â  Â  <p>&copy; 2025 Optimiseur de Vente de Garri. Outil de planification interactif.</p>
Â  Â  Â  Â  </div>
Â  Â  </footer>

Â  Â  <script>
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  const DEFAULT_DATA = {
Â  Â  Â  Â  Â  Â  Â  Â  inventory: 178,
Â  Â  Â  Â  Â  Â  Â  Â  sellingPrice: 16500,
Â  Â  Â  Â  Â  Â  Â  Â  costPerBag: 8000,
Â  Â  Â  Â  Â  Â  Â  Â  costs: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transport: 75000,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  storage: 20000,
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  _ Â  Â  Â  marketPrices: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: ['Janv', 'FÃ©vr', 'Mars', 'Avr', 'Mai', 'Juin', 'Juil', 'AoÃ»t', 'Sept', 'Oct', 'Nov', 'DÃ©c', 'Janv \'26', 'FÃ©vr \'26', 'Mars \'26'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  historical: [13000, 13500, 14000, 15000, 15500, 15000, 14500, 14000, 13000, 12000, 12500, 13000],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  projected: [null, null, null, null, null, null, null, null, null, null, null, null, 15500, 16500, 17500]
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  let costBreakdownChart;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const formatCFA = (value) => new Intl.NumberFormat('fr-FR').format(value) + ' CFA';
Â  Â  Â  Â  Â  Â  const formatNumber = (value) => new Intl.NumberFormat('fr-FR').format(value);
Â  Â  Â  Â  Â  Â  const formatPercent = (value) => isFinite(value) ? value.toFixed(2) + '%' : '0,00%';

Â  Â  Â  Â  Â  Â  const sellingPriceSlider = document.getElementById('sellingPrice');
Â  Â  Â  Â  Â  Â  const sellingPriceValue = document.getElementById('sellingPriceValue');
Â  Â  Â  Â  Â  Â  const projectedRevenue = document.getElementById('projectedRevenue');
Â  Â  Â  Â  Â  Â  const grossProfit = document.getElementById('grossProfit');
Â  Â  Â  Â  Â  Â  const profitMargin = document.getElementById('profitMargin');

Â  Â  Â  Â  Â  Â  const inventoryInput = document.getElementById('inventoryInput');
Â  Â  Â  Â  Â  Â  const costPerBagInput = document.getElementById('costPerBagInput');
Â  Â  Â  Â  Â  Â  const transportCostInput = document.getElementById('transportCostInput');
Â  Â  Â  Â  Â  Â  const storageCostInput = document.getElementById('storageCostInput');

Â  Â  Â  Â  Â  Â  const purchaseCostDisplay = document.getElementById('purchaseCostDisplay');
Â  Â  Â  Â  Â  Â  const totalInvestmentDisplay = document.getElementById('totalInvestmentDisplay');
Â  Â  Â  Â  Â  Â  const totalCostDisplay = document.getElementById('totalCostDisplay');
Â  Â  Â  Â  Â  Â  const phase1Bags = document.getElementById('phase1Bags');
Â  Â  Â  Â  Â  Â  const phase2Bags = document.getElementById('phase2Bags');
Â  Â  Â  Â  Â  Â  const phase3Bags = document.getElementById('phase3Bags');
Â  Â  Â  Â  Â  Â  const phase1Title = document.getElementById('phase1Title');
Â  Â  Â  Â  Â  Â  const phase2Title = document.getElementById('phase2Title');
Â  Â  Â  Â  Â  Â  const phase3Title = document.getElementById('phase3Title');
Â  Â  Â  Â  Â  Â  const phase1Text = document.getElementById('phase1Text');
Â  Â  Â  Â  Â  Â  const phase2Text = document.getElementById('phase2Text');
Â  Â  Â  Â  Â  Â  const phase3Text = document.getElementById('phase3Text');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const generateStrategyBtn = document.getElementById('generateStrategyBtn');
Â  Â  Â  Â  Â  Â  const getInsightsBtn = document.getElementById('getInsightsBtn');
Â  Â  Â  Â  Â  Â  const marketInsightsWrapper = document.getElementById('marketInsightsWrapper');
Â  Â  Â  Â  Â  Â  const marketInsights = document.getElementById('marketInsights');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const resetButton = document.getElementById('resetButton');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const CLOUD_RUN_FUNCTION_URL = 'https://github-pages-gemini-proxy-238410973313.us-central1.run.app';

Â  Â  Â  Â  Â  Â  async function fetchWithTimeout(url, options, timeout = 30000) {
Â  Â  Â  Â  Â  Â  Â  Â  const controller = new AbortController();
Â  Â  Â  Â  Â  Â  Â  Â  const id = setTimeout(() => controller.abort(), timeout);

Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(url, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...options,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  signal: controller.signal
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return response;
Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (error.name === 'AbortError') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('La requÃªte a expirÃ© (timeout).');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  async function callCloudRunProxy(prompt, systemInstruction, grounded = false) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!CLOUD_RUN_FUNCTION_URL.startsWith('https://')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â throw new Error("L'URL de la fonction Cloud Run n'est pas configurÃ©e. Veuillez mettre Ã  jour la constante CLOUD_RUN_FUNCTION_URL.");
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  const payload = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â prompt: prompt,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â systemInstruction: systemInstruction,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â grounded: grounded
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetchWithTimeout(CLOUD_RUN_FUNCTION_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(payload)
Â  Â  Â  Â  Â  Â  Â  Â  }, 30000);

Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const result = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  _ Â  if (result && result.response) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return result.response;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  _ Â  Â  Â  Â  Â  throw new Error('Structure de rÃ©ponse invalide de la fonction proxy.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const errorBody = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Erreur du proxy:", errorBody);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`La fonction proxy a retournÃ© une erreur: ${response.status} ${errorBody.error || ''}`);
A Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  async function handleGenerateStrategy() {
Â  Â  Â  Â  Â  Â  Â  Â  const inventory = parseInt(inventoryInput.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const totalCost = parseInt(totalCostDisplay.textContent.replace(/[^0-9]/g, '')) || 0;

Â  Â  Â  Â  Â  Â  Â  Â  const systemPrompt = "Agissez en tant qu'expert du commerce des matiÃ¨res premiÃ¨res Ã  LomÃ©, Togo, spÃ©cialisÃ© dans les produits agricoles comme le garri. L'entrepÃ´t de l'utilisateur est Ã  Totsi, LomÃ©.";
Â  Â  Â  Â  Â  Â  Â  Â  const userPrompt = `J'ai ${inventory} sacs de garri (50kg chacun) avec un coÃ»t total de ${totalCost} CFA. Ma fenÃªtre de vente est de janvier Ã  mars. Les prix historiques augmentent pendant cette pÃ©riode.
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  GÃ©nÃ©rez une stratÃ©gie de vente en gros en 3 phases (Janvier, FÃ©vrier, Mars) pour maximiser le profit.
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Retournez *uniquement* un objet JSON suivant ce schÃ©ma exact:
Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  "phase1": { "percent": number, "rationale": "string" },
Â  Â  Â  Â  Â  Â  Â  Â  Â  "phase2": { "percent": number, "rationale": "string" },
Â  Â  Â  Â  Â  Â  Â  Â  Â  "phase3": { "percent": number, "rationale": "string" }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Les pourcentages doivent totaliser 100. La justification doit Ãªtre une brÃ¨ve explication en franÃ§ais.`;

Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const jsonString = await callCloudRunProxy(userPrompt, systemPrompt, false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const strategy = JSON.parse(jsonString);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const p1Bags = Math.round(inventory * (strategy.phase1.percent / 100));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const p2Bags = Math.round(inventory * (strategy.phase2.percent / 100));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const p3Bags = inventory - p1Bags - p2Bags;Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase1Title.textContent = `Vendre ${strategy.phase1.percent}% du Stock`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase1Bags.textContent = `(~${p1Bags} sacs)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase1Text.textContent = strategy.phase1.rationale;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase2Title.textContent = `Vendre ${strategy.phase2.percent}% du Stock`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase2Bags.textContent = `(~${p2Bags} sacs)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase2Text.textContent = strategy.phase2.rationale;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase3Title.textContent = `Vendre ${strategy.phase3.percent}% du Stock`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase3Bags.textContent = `(~${p3Bags} sacs)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase3Text.textContent = strategy.phase3.rationale;

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erreur lors de la gÃ©nÃ©ration de la stratÃ©gie:', error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase1Text.textContent = `Erreur : ${error.message}. Veuillez rÃ©essayer.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase2Text.textContent = "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  phase3Text.textContent = "";
s Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  async function handleGetInsights() {
Â  Â  Â  Â  Â  Â  Â  Â  marketInsightsWrapper.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const systemPrompt = "Agissez en tant qu'analyste de marchÃ© pour LomÃ©, Togo. Fournissez un rÃ©sumÃ© concis en franÃ§ais, sous forme de puces, des derniÃ¨res tendances, des facteurs de prix et des perspectives pour le marchÃ© du garri Ã  LomÃ© pour les 3 prochains mois. Concentrez-vous sur les informations pertinentes pour un vendeur en gros.";
Â  Â  Â  Â  Â  Â  Â  Â  const userPrompt = "Quelles sont les derniÃ¨res nouvelles et tendances des prix pour le garri et le manioc Ã  LomÃ©, Togo pour dÃ©but 2026 ? Incluez les facteurs tels que la mÃ©tÃ©o, le transport et la demande saisonniÃ¨re.";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const textResponse = await callCloudRunProxy(userPrompt, systemPrompt, true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const text = textResponse.replace(/\n/g, '<br>');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  marketInsights.innerHTML = text;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  marketInsightsWrapper.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erreur lors de la rÃ©cupÃ©ration des infos marchÃ©:', error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  marketInsights.innerHTML = `Erreur : ${error.message}. Veuillez rÃ©essayer.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  marketInsightsWrapper.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function updateAllCalculations() {
Â  Â  Â  Â  Â  Â  Â  Â  const inventory = parseInt(inventoryInput.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const costPerBag = parseInt(costPerBagInput.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const transportCost = parseInt(transportCostInput.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const storageCost = parseInt(storageCostInput.value) || 0;
Â  Â  Â  Â  Â  Â  Â  Â  const sellingPrice = parseInt(sellingPriceSlider.value);

Â  Â  Â  Â  Â  Â  Â  Â  const purchaseCost = inventory * costPerBag;
Â  Â  Â  Â  Â  Â  Â  Â  const totalCost = purchaseCost + transportCost + storageCost;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const revenue = sellingPrice * inventory;
Â  Â  Â  Â  Â  Â  Â  Â  const profit = revenue - totalCost;
Â  Â  Â  Â  Â  Â  Â  Â  const margin = totalCost > 0 ? (profit / totalCost) * 100 : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  sellingPriceValue.textContent = formatCFA(sellingPrice);
Â  Â  Â  Â  Â  Â  Â  Â  projectedRevenue.textContent = formatNumber(revenue);
Â  Â  Â  Â  Â  Â  Â  Â  grossProfit.textContent = formatNumber(profit);
Â  Â  Â  Â  Â  Â  Â  Â  profitMargin.textContent = formatPercent(margin);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  purchaseCostDisplay.textContent = formatNumber(purchaseCost);
img Â  Â  Â  Â  Â  totalInvestmentDisplay.textContent = formatCFA(totalCost);
Â  Â  Â  Â  Â  Â  Â  Â  totalCostDisplay.textContent = formatCFA(totalCost);

Â  Â  Â  Â  Â  Â  Â  Â  const p1Bags = Math.round(inventory * 0.3);
Â  Â  Â  Â  Â  Â  Â  Â  const p2Bags = Math.round(inventory * 0.4);
Â  Â  Â  Â  Â  Â  Â  Â  const p3Bags = inventory - p1Bags - p2Bags;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  phase1Title.textContent = "Vendre 30% du Stock";
Â  Â  Â  Â  Â  Â  Â  Â  phase1Bags.textContent = `(~${p1Bags} sacs)`;
Â  Â  Â  Â  Â  Â  Â  Â  phase1Text.textContent = "Entrez sur le marchÃ© alors que la demande post-vacances se stabilise. Cette vente initiale fournit des liquiditÃ©s prÃ©coces.";

Â  Â  Â  Â  Â  Â  Â  Â  phase2Title.textContent = "Vendre 40% du Stock";
Â  Â  Â  Â  Â  Â  Â  Â  phase2Bags.textContent = `(~${p2Bags} sacs)`;
Ã‚ Â  Â  Â  Â  Â  Â  Â  phase2Text.textContent = "Profitez de la hausse des prix alors que l'offre de la rÃ©colte principale diminue. PÃ©riode de demande de pointe projetÃ©e.";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  phase3Title.textContent = `Vendre les 30% Finaux`;
Â  Â  Â  Â  Â  Â  Â  Â  phase3Bags.textContent = `(~${p3Bags} sacs)`;
Â  Â  Â  Â  Â  Â  Â  Â  phase3Text.textContent = "Vendez le stock restant aux prix projetÃ©s les plus Ã©levÃ©s avant le dÃ©but de la nouvelle saison des semailles.";
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  costBreakdownChart.data.datasets[0].data = [purchaseCost, transportCost, storageCost];
Â  Â  Â  Â  Â  Â  Â  Â  costBreakdownChart.update();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function resetAll() {
Â  Â  Â  Â  Â  Â  Â  Â  inventoryInput.value = DEFAULT_DATA.inventory;
C Â  Â  Â  Â  Â  Â  costPerBagInput.value = DEFAULT_DATA.costPerBag;
Â  Â  Â  Â  Â  Â  Â  Â  transportCostInput.value = DEFAULT_DATA.costs.transport;
Â  Â  Â  Â  Â  Â  Â  Â  storageCostInput.value = DEFAULT_DATA.costs.storage;
Â  Â  Â  Â  Â  Â  Â  Â  sellingPriceSlider.value = DEFAULT_DATA.sellingPrice;
Â  Â  Â  Â  Â  Â  Â  Â  updateAllCalculations();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const allInputs = [inventoryInput, costPerBagInput, transportCostInput, storageCostInput, sellingPriceSlider];
Â  Â  Â  Â  Â  Â  allInputs.forEach(input => input.addEventListener('input', updateAllCalculations));
Â  Â  Â  Â  Â  Â  resetButton.addEventListener('click', resetAll);
Â  Â  Â  Â  Â  Â  generateStrategyBtn.addEventListener('click', handleGenerateStrategy);
Â  Â  Â  Â  Â  Â  getInsightsBtn.addEventListener('click', handleGetInsights);

Â  Â  Â  Â  Â  Â  Chart.defaults.font.family = 'Inter';

Â  Â  Â  Â  Â  Â  const costBreakdownCtx = document.getElementById('costBreakdownChart').getContext('2d');
S Â  Â  Â  Â  costBreakdownChart = new Chart(costBreakdownCtx, {
Â  Â  Â  Â  Â  Â  Â  Â  type: 'doughnut',
Â  Â  Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: ['Achat Garri', 'Transport', 'Stockage'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  datasets: [{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: [],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: ['#8C6A5D', '#BFA69A', '#D9C8BF'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  F Â  borderColor: '#FFFFFF',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  borderWidth: 2
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  options: {
s Â  Â  Â  Â  Â  Â  Â  Â  responsive: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maintainAspectRatio: false,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  plugins: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  legend: {
img Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  position: 'bottom',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  padding: 20,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  boxWidth: 12,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  usePointStyle: true
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tooltip: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  callbacks: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: function(context) {
A Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return `${context.label}: ${formatCFA(context.raw)}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
test Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cutout: '60%'
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const marketPriceCtx = document.getElementById('marketPriceChart').getContext('2d');
Â  Â  Â  Â  Â  Â  new Chart(marketPriceCtx, {
Â  Â  Â  Â  Â  Â  Â  Â  type: 'line',
Â  Â  Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: DEFAULT_DATA.marketPrices.labels,
Such Â  Â  Â  Â  Â  Â  datasets: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: 'Prix Historique',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: DEFAULT_DATA.marketPrices.historical,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  borderColor: '#BFA69A',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: '#BFA69A33',
fs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fill: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tension: 0.3
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fs Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: 'Prix ProjetÃ©',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: DEFAULT_DATA.marketPrices.projected,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  borderColor: '#8C6A5D',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: '#8C6A5D33',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  borderDash: [5, 5],
Â  Â  Â  Â  Â  Â  Â  Â  Ã‚ Â  Â  Â  Â  Â  fill: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tension: 0.3
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
E Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  options: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  responsive: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  maintainAspectRatio: false,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  plugins: {
Â  s Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  legend: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  position: 'top',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Examples Â  Â  align: 'end'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tooltip: {
s Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  callbacks: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: function(context) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return `${context.dataset.label}: ${formatCFA(context.raw)}`;
Example Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  s Â  Â  Â  Â  Â  Â  Â  scales: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  y: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ticks: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  callback: function(value) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return value / 1000 + 'k';
CSS Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  x: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid: {
s Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  display: false
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  _ Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  s Â  Â  Â  resetAll();

Â  Â  Â  Â  Â  Â  const navLinks = document.querySelectorAll('.nav-link');
Â  Â  Â  Â  Â  Â  const sections = document.querySelectorAll('section');

Â  Â  Â  Â  Â  Â  const observerOptions = {
Â  Â  Â  Â  Â  Â  Â  Â  root: null,
Example Â  Â  Â  Â  Â  rootMargin: '0px',
Â  Â  Â  Â  Â  Â  Â  Â  threshold: 0.3
Â  Â  Â  Â  Â  Â  };

s Â  Â  Â  Â  const observer = new IntersectionObserver((entries) => {
Â  Â  Â  Â  Â  Â  Â  Â  entries.forEach(entry => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (entry.isIntersecting) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  navLinks.forEach(link => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (link.getAttribute('href') === `#${entry.target.id}`) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }, observerOptions);

Â  Â  Â  Â  Â  Â  sections.forEach(section => {
Â  Â  Â  Â  Â  Â  Â  Â  observer.observe(section);
all Â  Â  Â  Â  });
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
